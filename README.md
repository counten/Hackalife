# Hackalife (爱厨房)

## Structure
1. 前端
    1. 页面展示
    1. 使用模型推断
1. 后端

    基于Python的 Flask框架
1. 模型
    1. 图片爬虫
    1. 图片预处理
        1. 图片删除
        1. 图片压缩，转换，格式化（特征与标签的表示方式）
    1. 模型训练

## Install
```bash
git clone git@github.com:wbq813/Hackalife.git
cd Hackalife
pip install -r requirement.pip
```  

## Detail
1. 图片爬取
1. 图片预处理
    1. 图片删选 由于百度图片中爬取的图片五花八门非常复杂，有些图片和关键词差别很大，需要手动对其进行挑选，尽可能使得数据集贴近用户拍照菜品，由于是从demo开始，只使用蔬菜和水果作为数据集，后期可以再添加分类。
    1. 图片压缩与转换，图片格式化（特征与标签的表示方式） 因使用的是CNN识别cifar10的数据集，需要将图片转化为32*32 size大小的图片，并全部转化为RGB模式的图片图片压缩与转换，图片格式化（特征与标签的表示方式） 因使用的是CNN识别cifar10的数据集，需要将图片转化为32*32 size大小的图片，并全部转化为RGB模式的图片。
    1. 压缩与转化完成后，将其与label合并后以字典的形式存储并写入文件。
    1. 其中label是在读取文件夹的时候以文件夹名称划分。
1. 训练和测试数据的准备
    1. 使用上述代码将处理好的2692张蔬菜水果图片制作为训练数据集data_batch_train，将另外299张图片制作为测试数据集data_batch_test
    1. 读取到data_batch文件中的data与label并进行存储返回
    1. 由于训练数据集不是很多，选择对图像进行截取，移动等方法再进一步处理：
1. 模型的搭建和训练
    1. 使用广为流传的识别cifar10数据集的CNN神经网络，原因有二，一是CNN 作为比较成熟的算法模型，在cifar10分类中可以获得91%左右的准确率，在mnist数据集中可以获得97%以上的的准确率；二是CNN模型的构建相对容易理解，属于比较基础的模型之一，方便以后的调参优化改进。
    1. 模型搭建
    1. 模型的训练与评估
1. 预测
    1. 图片转换、预处理 当使用模型预测一个新的样本的时候，同样需要将图片转化为32*32的size并转化为RGB模式的图片以防图片识别失败，之所以要加转为RGB式语句是因为在预处理中遇到过valueError，提示在RGB三通道split的时候返回值不匹配，可能是图片本身并不是RGB模式导致的。
    1. 特征格式化表示 进行预处理完毕后需要将该图片转为一个1*3072的array，其中第一个1024维度为Red通道，第二个1024维度为Green通道，第三个1024维度为Blue通道 至此图片特征格式化完毕。
## Team member
1. [19910909](https://github.com/19910909)
1. [Sharkkkk](https://github.com/Sharkkkk)
1. [HuangYing](https://github.com/1185457594)




